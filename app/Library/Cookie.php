<?php
/**
 * Created by PhpStorm.
 * User: fesiong
 * Date: 2016/12/15
 * Time: 上午9:36
 */

namespace Fesion\Library;


use Phalcon\Http\Response\Cookies;

class Cookie extends Cookies
{
    public $domain;
    public $expire;

    public function __construct() {
        $domain = implode('.', array_slice(explode('.', $_SERVER['HTTP_HOST']), -2));
        $this->domain = $domain;
        $this->expire = 2920000;
    }

    public function set($name, $value = null, $expire = 0, $path = "/", $secure = null, $domain = null, $httpOnly = null)
    {
        if(!$domain){
            $domain = $this->domain;
        }

        if(!$expire){
            $expire = $this->expire;
        }
        parent::set($name, $value, $expire, $path = "/", $secure, $domain, $httpOnly = false); // TODO: Change the autogenerated stub
    }

    public function delete($name)
    {
        parent::delete($name); // TODO: Change the autogenerated stub
    }
}